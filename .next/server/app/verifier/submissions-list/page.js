(()=>{var e={};e.id=314,e.ids=[314],e.modules={506:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});var r=t(687),a=t(3210),i=t(5762);function l({selectedSubmission:e,closeDetailModal:s}){let[t,l]=(0,a.useState)(e.status),[n,o]=(0,a.useState)(!1),d=async()=>{o(!0);let{error:r}=await i.N.from("submissions").update({status:t}).eq("id",e.id);o(!1),r?(alert("Gagal mengupdate status."),console.error(r)):(alert("Status berhasil diperbarui!"),s())};return(0,r.jsx)("div",{className:"fixed overflow-hidden",style:{position:"fixed",top:-25,left:0,right:0,bottom:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto m-4",children:[(0,r.jsxs)("div",{className:"p-6 border-b border-slate-200 flex justify-between items-center",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold text-slate-800",children:"Detail Pengajuan Vendor"}),(0,r.jsx)("button",{onClick:s,className:"text-slate-400 hover:text-slate-600",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,r.jsxs)("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"bg-slate-50 p-4 rounded-lg",children:[(0,r.jsx)("h4",{className:"font-semibold text-slate-800 mb-3",children:"Informasi Vendor"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm font-medium text-slate-600",children:"Nama Vendor:"}),(0,r.jsx)("p",{children:e.vendor_name})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm font-medium text-slate-600",children:"Nomor SIMJA:"}),(0,r.jsx)("p",{children:e.simja_number})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm font-medium text-slate-600",children:"Nomor SIKA:"}),(0,r.jsx)("p",{children:e.sika_number})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm font-medium text-slate-600",children:"Status:"}),(0,r.jsxs)("select",{value:t,onChange:e=>l(e.target.value),className:"mt-1 w-full border border-slate-300 rounded px-3 py-2 text-sm",children:[(0,r.jsx)("option",{value:"0",children:"Pending"}),(0,r.jsx)("option",{value:"1",children:"Approved"}),(0,r.jsx)("option",{value:"2",children:"Rejected"}),(0,r.jsx)("option",{value:"3",children:"Expired"})]})]})]})]}),(0,r.jsxs)("div",{className:"bg-slate-50 p-4 rounded-lg",children:[(0,r.jsx)("h4",{className:"font-semibold text-slate-800 mb-3",children:"Detail Pekerjaan"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm font-medium text-slate-600",children:"Deskripsi:"}),(0,r.jsx)("p",{children:e.job_description})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm font-medium text-slate-600",children:"Sarana Kerja:"}),(0,r.jsx)("p",{children:e.equipment})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm font-medium text-slate-600",children:"Jumlah Pekerja:"}),(0,r.jsxs)("p",{children:[e.worker_count," orang"]})]})]})]}),(0,r.jsxs)("div",{className:"bg-slate-50 p-4 rounded-lg",children:[(0,r.jsx)("h4",{className:"font-semibold text-slate-800 mb-3",children:"Jadwal Pekerjaan"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm font-medium text-slate-600",children:"Tanggal Mulai:"}),(0,r.jsx)("p",{children:e.start_date})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm font-medium text-slate-600",children:"Tanggal Selesai:"}),(0,r.jsx)("p",{children:e.end_date})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm font-medium text-slate-600",children:"Jam Kerja:"}),(0,r.jsxs)("p",{children:[e.start_time," - ",e.end_time]})]})]})]}),(0,r.jsxs)("div",{className:"bg-slate-50 p-4 rounded-lg",children:[(0,r.jsx)("h4",{className:"font-semibold text-slate-800 mb-3",children:"Informasi Lain"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm font-medium text-slate-600",children:"Dibuat:"}),(0,r.jsx)("p",{children:new Date(e.created_at).toLocaleString("id-ID")})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm font-medium text-slate-600",children:"Diperbarui:"}),(0,r.jsx)("p",{children:new Date(e.updated_at).toLocaleString("id-ID")})]})]})]})]}),(0,r.jsxs)("div",{className:"p-6 border-t flex justify-end gap-3",children:[(0,r.jsx)("button",{onClick:s,className:"px-4 py-2 border border-slate-300 text-slate-700 rounded hover:bg-slate-50",children:"Cancel"}),(0,r.jsx)("button",{onClick:d,disabled:n,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50",children:n?"Menyimpan...":"Simpan Perubahan"})]})]})})}t(2521)},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1573:(e,s,t)=>{Promise.resolve().then(t.bind(t,9322))},1630:e=>{"use strict";e.exports=require("http")},1645:e=>{"use strict";e.exports=require("net")},1997:e=>{"use strict";e.exports=require("punycode")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3656:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>x,pages:()=>c,routeModule:()=>m,tree:()=>d});var r=t(5239),a=t(8088),i=t(8170),l=t.n(i),n=t(893),o={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);t.d(s,o);let d={children:["",{children:["verifier",{children:["submissions-list",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,9322)),"/home/asmorodwi/Desktop/Code/Program/dashboard-simlok/src/app/verifier/submissions-list/page.js"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,8356)),"/home/asmorodwi/Desktop/Code/Program/dashboard-simlok/src/app/verifier/layout.js"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,5535)),"/home/asmorodwi/Desktop/Code/Program/dashboard-simlok/src/app/layout.js"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,5284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/home/asmorodwi/Desktop/Code/Program/dashboard-simlok/src/app/verifier/submissions-list/page.js"],x={require:t,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/verifier/submissions-list/page",pathname:"/verifier/submissions-list",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},3873:e=>{"use strict";e.exports=require("path")},4075:e=>{"use strict";e.exports=require("zlib")},4356:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>x});var r=t(687),a=t(3210),i=t(3772),l=t(6090);t(5762);var n=t(2521);t(6652);var o=t(506),d=t(9510),c=t(5606);function x(){let[e,s]=(0,a.useState)([]),[t,x]=(0,a.useState)(""),[m,u]=(0,a.useState)(!0),[p,h]=(0,a.useState)(null),[j,g]=(0,a.useState)(!1);(0,i.FB)();let b=(0,a.useMemo)(()=>{let e=(0,i.FB)();return[e.accessor("vendor_name",{header:"Vendor",cell:e=>(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-semibold",children:e.getValue()}),(0,r.jsxs)("div",{className:"text-xs text-slate-500",children:["SIMJA: ",e.row.original.simja_number]}),(0,r.jsxs)("div",{className:"text-xs text-slate-500",children:["SIKA: ",e.row.original.sika_number]})]}),enableSorting:!0,meta:{width:"200px"}}),e.accessor("job_description",{header:"Deskripsi",cell:e=>(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{children:e.getValue()}),(0,r.jsxs)("div",{className:"text-xs text-slate-500",children:[(0,r.jsx)("b",{children:"Pekerja:"})," ",e.row.original.worker_count,(0,r.jsx)("br",{}),(0,r.jsx)("b",{children:"Sarana Kerja:"})," ",e.row.original.equipment]})]}),enableSorting:!0,meta:{width:"250px"}}),e.accessor("start_date",{header:"Jadwal",cell:e=>{let s=e.row.original,t=(0,d.GP)(new Date(s.start_date),"d MMMM yyyy",{locale:c.id}),a=(0,d.GP)(new Date(s.end_date),"d MMMM yyyy",{locale:c.id});return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{children:[t," s/d ",a]}),(0,r.jsxs)("div",{className:"text-xs text-slate-500",children:[s.start_time," - ",s.end_time]})]})},enableSorting:!0,meta:{width:"150px"}}),e.accessor("status",{header:"Status",cell:e=>(0,r.jsx)(n.A,{status:e.getValue()}),enableSorting:!0,meta:{width:"120px"}}),e.accessor("created_at",{header:"Created At",cell:e=>new Date(e.getValue()).toLocaleDateString(),enableSorting:!0,meta:{width:"180px"}}),e.accessor("id",{header:"Aksi",cell:e=>(0,r.jsx)("button",{className:"px-6 py-2 border border-blue-600 text-blue-600 hover:bg-blue-600 hover:text-white rounded text-xs transition",onClick:()=>f(e.row.original),children:"Detail"}),enableSorting:!1,meta:{width:"100px"}})]},[]),v=(0,l.N4)({data:e,columns:b,state:{globalFilter:t},onGlobalFilterChange:x,getCoreRowModel:(0,i.HT)(),getFilteredRowModel:(0,i.hM)(),getSortedRowModel:(0,i.h5)(),getPaginationRowModel:(0,i.kW)()}),f=e=>{e&&(h(e),g(!0))};return m?(0,r.jsx)("div",{className:"text-center py-10",children:"Loading..."}):(0,r.jsxs)("div",{className:"p-6 space-y-6",children:[(0,r.jsx)("h1",{className:"text-3xl font-semibold text-slate-800",children:"Daftar Pengajuan"}),(0,r.jsxs)("div",{className:"relative flex w-full max-w-xs flex-col gap-1 text-on-surface dark:text-on-surface-dark",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",className:"absolute left-2.5 top-1/2 size-5 -translate-y-1/2 text-on-surface/50 dark:text-on-surface-dark/50",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})}),(0,r.jsx)("input",{type:"search",className:"w-full rounded border border-gray-300 bg-white py-2 pl-10 pr-2 text-sm",placeholder:"Cari vendor",value:t??"",onChange:e=>x(e.target.value)})]}),(0,r.jsxs)("div",{className:"overflow-x-auto bg-white p-4 rounded-xl shadow-md mt-4",children:[(0,r.jsxs)("table",{className:"min-w-full text-sm text-left text-gray-700",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:v.getHeaderGroups().map(e=>(0,r.jsx)("tr",{children:e.headers.map(e=>(0,r.jsx)("th",{className:"px-4 py-2 font-medium text-xs uppercase cursor-pointer",onClick:e.column.getToggleSortingHandler(),style:{width:e.column.columnDef.meta?.width},children:!e.isPlaceholder&&(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.Kv)(e.column.columnDef.header,e.getContext()),"desc"===e.column.getIsSorted()&&(0,r.jsx)("span",{children:"↓"}),"asc"===e.column.getIsSorted()&&(0,r.jsx)("span",{children:"↑"})]})},e.id))},e.id))}),(0,r.jsx)("tbody",{children:v.getRowModel().rows.map(e=>(0,r.jsx)("tr",{className:"border-b hover:bg-gray-50",children:e.getVisibleCells().map(e=>(0,r.jsx)("td",{className:"px-4 py-2 align-top",style:{width:e.column.columnDef.meta?.width},children:(0,l.Kv)(e.column.columnDef.cell,e.getContext())},e.id))},e.id))})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,r.jsxs)("div",{className:"text-sm text-slate-600",children:["Page ",v.getState().pagination.pageIndex+1," of"," ",v.getPageCount()]}),(0,r.jsxs)("div",{className:"space-x-2",children:[(0,r.jsx)("button",{className:"px-3 py-1 bg-slate-200 rounded disabled:opacity-50",onClick:()=>v.previousPage(),disabled:!v.getCanPreviousPage(),children:"Prev"}),(0,r.jsx)("button",{className:"px-3 py-1 bg-slate-200 rounded disabled:opacity-50",onClick:()=>v.nextPage(),disabled:!v.getCanNextPage(),children:"Next"})]})]})]}),j&&p&&(0,r.jsx)(o.A,{selectedSubmission:p,closeDetailModal:()=>g(!1)})]})}},4631:e=>{"use strict";e.exports=require("tls")},4735:e=>{"use strict";e.exports=require("events")},5511:e=>{"use strict";e.exports=require("crypto")},5591:e=>{"use strict";e.exports=require("https")},7910:e=>{"use strict";e.exports=require("stream")},8021:(e,s,t)=>{Promise.resolve().then(t.bind(t,4356))},8356:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i});var r=t(7413),a=t(9052);function i({children:e}){return(0,r.jsxs)("div",{className:"flex h-screen overflow-hidden",children:[(0,r.jsx)(a.DashboardSidebar,{}),(0,r.jsx)("main",{className:"flex-1 overflow-y-auto bg-slate-100",children:(0,r.jsx)("div",{className:"container mx-auto p-6",children:e})})]})}},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9322:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/asmorodwi/Desktop/Code/Program/dashboard-simlok/src/app/verifier/submissions-list/page.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/asmorodwi/Desktop/Code/Program/dashboard-simlok/src/app/verifier/submissions-list/page.js","default")},9428:e=>{"use strict";e.exports=require("buffer")},9551:e=>{"use strict";e.exports=require("url")}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[447,488,567,485,61,90,76],()=>t(3656));module.exports=r})();